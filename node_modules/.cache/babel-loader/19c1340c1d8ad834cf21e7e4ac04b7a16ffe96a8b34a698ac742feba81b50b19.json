{"ast":null,"code":"import _toConsumableArray from \"/Users/ewanm/projects/solana-pda-generator/solana-pda-generator/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/ewanm/projects/solana-pda-generator/solana-pda-generator/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ewanm/projects/solana-pda-generator/solana-pda-generator/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/ewanm/projects/solana-pda-generator/solana-pda-generator/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/ewanm/projects/solana-pda-generator/solana-pda-generator/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport assert from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  var _32n = BigInt(32);\n  var _u32_max = BigInt(0xffffffff);\n  var wh = Number(value >> _32n & _u32_max);\n  var wl = Number(value & _u32_max);\n  var h = isLE ? 4 : 0;\n  var l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport var SHA2 = /*#__PURE__*/function (_Hash) {\n  _inherits(SHA2, _Hash);\n  var _super = _createSuper(SHA2);\n  function SHA2(blockLen, outputLen, padOffset, isLE) {\n    var _this;\n    _classCallCheck(this, SHA2);\n    _this = _super.call(this);\n    _this.blockLen = blockLen;\n    _this.outputLen = outputLen;\n    _this.padOffset = padOffset;\n    _this.isLE = isLE;\n    _this.finished = false;\n    _this.length = 0;\n    _this.pos = 0;\n    _this.destroyed = false;\n    _this.buffer = new Uint8Array(blockLen);\n    _this.view = createView(_this.buffer);\n    return _this;\n  }\n  _createClass(SHA2, [{\n    key: \"update\",\n    value: function update(data) {\n      assert.exists(this);\n      var view = this.view,\n        buffer = this.buffer,\n        blockLen = this.blockLen;\n      data = toBytes(data);\n      var len = data.length;\n      for (var pos = 0; pos < len;) {\n        var take = Math.min(blockLen - this.pos, len - pos);\n        // Fast path: we have at least one block in input, cast it to view and process\n        if (take === blockLen) {\n          var dataView = createView(data);\n          for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n          continue;\n        }\n        buffer.set(data.subarray(pos, pos + take), this.pos);\n        this.pos += take;\n        pos += take;\n        if (this.pos === blockLen) {\n          this.process(view, 0);\n          this.pos = 0;\n        }\n      }\n      this.length += data.length;\n      this.roundClean();\n      return this;\n    }\n  }, {\n    key: \"digestInto\",\n    value: function digestInto(out) {\n      assert.exists(this);\n      assert.output(out, this);\n      this.finished = true;\n      // Padding\n      // We can avoid allocation of buffer for padding completely if it\n      // was previously not allocated here. But it won't change performance.\n      var buffer = this.buffer,\n        view = this.view,\n        blockLen = this.blockLen,\n        isLE = this.isLE;\n      var pos = this.pos;\n      // append the bit '1' to the message\n      buffer[pos++] = 128;\n      this.buffer.subarray(pos).fill(0);\n      // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n      if (this.padOffset > blockLen - pos) {\n        this.process(view, 0);\n        pos = 0;\n      }\n      // Pad until full block byte with zeros\n      for (var i = pos; i < blockLen; i++) buffer[i] = 0;\n      // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n      // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n      // So we just write lowest 64 bits of that value.\n      setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n      this.process(view, 0);\n      var oview = createView(out);\n      var len = this.outputLen;\n      // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n      if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n      var outLen = len / 4;\n      var state = this.get();\n      if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n      for (var _i = 0; _i < outLen; _i++) oview.setUint32(4 * _i, state[_i], isLE);\n    }\n  }, {\n    key: \"digest\",\n    value: function digest() {\n      var buffer = this.buffer,\n        outputLen = this.outputLen;\n      this.digestInto(buffer);\n      var res = buffer.slice(0, outputLen);\n      this.destroy();\n      return res;\n    }\n  }, {\n    key: \"_cloneInto\",\n    value: function _cloneInto(to) {\n      var _to;\n      to || (to = new this.constructor());\n      (_to = to).set.apply(_to, _toConsumableArray(this.get()));\n      var blockLen = this.blockLen,\n        buffer = this.buffer,\n        length = this.length,\n        finished = this.finished,\n        destroyed = this.destroyed,\n        pos = this.pos;\n      to.length = length;\n      to.pos = pos;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      if (length % blockLen) to.buffer.set(buffer);\n      return to;\n    }\n  }]);\n  return SHA2;\n}(Hash);","map":{"version":3,"names":["assert","Hash","createView","toBytes","setBigUint64","view","byteOffset","value","isLE","_32n","BigInt","_u32_max","wh","Number","wl","h","l","setUint32","SHA2","_Hash","_inherits","_super","_createSuper","blockLen","outputLen","padOffset","_this","_classCallCheck","call","finished","length","pos","destroyed","buffer","Uint8Array","_createClass","key","update","data","exists","len","take","Math","min","dataView","process","set","subarray","roundClean","digestInto","out","output","fill","i","oview","Error","outLen","state","get","digest","res","slice","destroy","_cloneInto","to","_to","constructor","apply","_toConsumableArray"],"sources":["/Users/ewanm/projects/node_modules/@noble/hashes/src/_sha2.ts"],"sourcesContent":["import assert from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    assert.exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assert.exists(this);\n    assert.output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}